Reflection is used for obtaining typing at runtime.
It allows us to inspect classes, methods and fields at run time.
We can load and use types dynamically.
```csharp
Activator.CreateInstance(some_type_from_GetType_method);
```



In C#, there is a block called `Assembly` which is generated by the compiler after compilation. Assembly has two parts, intermediate language and metadata.

Metadata contains info about types. Reflection is taking that metadata and inspecting info inside it.

Both typeof and getType() constitute reflection.


Can be used via `typeof` or `GetType()`

Typeof is applied to a name of a type or generic known at compile time.
GetType() is called on an object at runtime.

You use typeOf on types, not variables.
You use GetType() on an instance.

```csharp
// Eg. Employee is a class, person is an instance of Employee
var person = new Employee();
person.GetType(); // Employee
typeof(Employee) // Employee


typeof(bool); // System.Boolean

```


Example where compile time and run time types are equal.
```csharp
string s = "hello";
Type t1 = typeof(string); // string
Type t2 = s.GetType(); // string
```

Example where compile time and run time types are different.
```csharp
object s = "hello";
Type t1 = typeof(object); // object
Type t2 = obj.GetType(); // string
```

#### Testing types
`if (xxx is yyy)`
meaning xxx has a type that matches or derives from yyy, or implements an interface called yyy.

```csharp
if (obj1.GetType() == typeof(int))
```
This is true if obj1 is exactly of type int. If obj1 derives from int then false.